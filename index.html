<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Fishing Splash</title>

<style>
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:#fff; overflow:hidden}

  body{
    background:
      url("assets/bg.jpg") center/cover no-repeat,
      linear-gradient(180deg,#061a25,#0b3a52);
  }

  .app{max-width:900px; margin:0 auto; padding:12px; height:100%; display:flex; flex-direction:column; gap:12px}

  /* glass panels */
  .glass{
    background:rgba(0,0,0,.38);
    border:1px solid rgba(255,255,255,.10);
    border-radius:20px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow:0 18px 45px rgba(0,0,0,.35);
  }

  .header{padding:14px}
  .title{font-weight:1000; font-size:26px; letter-spacing:.5px}
  .sub{opacity:.85; margin-top:2px; font-size:13px}

  .stats{display:flex; flex-wrap:wrap; gap:8px; margin-top:10px}
  .pill{
    padding:7px 12px;
    border-radius:999px;
    background:rgba(0,0,0,.35);
    border:1px solid rgba(255,255,255,.10);
    font-size:14px;
  }
  .pill b{font-weight:900}

  /* reels */
  .reels{padding:14px; flex:1; min-height:0; display:flex; flex-direction:column; gap:10px}
  .banner{
    text-align:center;
    font-weight:900;
    letter-spacing:1px;
    padding:8px 10px;
    border-radius:14px;
    background:rgba(0,0,0,.35);
    border:1px solid rgba(255,255,255,.10);
  }

  .grid{
    display:grid;
    grid-template-columns:repeat(5,1fr);
    gap:10px;
    flex:1;
    min-height:0;
  }
  .cell{
    position:relative;
    border-radius:18px;
    background:rgba(0,0,0,.28);
    border:1px solid rgba(255,255,255,.10);
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:86px;
    overflow:hidden;
  }
  .cell img{
    width:72px;
    height:72px;
    object-fit:contain;
    filter:drop-shadow(0 10px 16px rgba(0,0,0,.65));
    transform:translateZ(0);
  }

  .cell.spinning{ filter:saturate(1.05); }
  .cell.stop{ animation:pop .16s ease-out; }
  @keyframes pop{ from{ transform:scale(.98) } to{ transform:scale(1) } }

  /* value badge for cashfish */
  .valueBadge{
    position:absolute;
    bottom:7px;
    left:50%;
    transform:translateX(-50%);
    padding:3px 8px;
    border-radius:999px;
    font-size:12px;
    font-weight:900;
    background:rgba(0,0,0,.55);
    border:1px solid rgba(255,255,255,.12);
    display:none;
    white-space:nowrap;
    pointer-events:none;
  }

  /* message */
  .msg{
    padding:10px 12px;
    border-radius:16px;
    background:rgba(0,0,0,.32);
    border:1px solid rgba(255,255,255,.10);
    display:flex;
    justify-content:space-between;
    gap:10px;
    align-items:center;
  }
  .msg .left{opacity:.9}
  .msg .right{opacity:.75; font-size:13px}

  /* bottom controls bar */
  .bottomBar{
    padding:12px;
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    align-items:center;
    justify-content:space-between;
  }
  .btnRow{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
  button{
    border:none;
    border-radius:16px;
    padding:12px 14px;
    color:#fff;
    background:rgba(255,255,255,.14);
    border:1px solid rgba(255,255,255,.12);
    font-size:15px;
    cursor:pointer;
  }
  button:disabled{opacity:.45; cursor:not-allowed}
  .spin{
    min-width:170px;
    font-weight:1000;
    color:#000;
    background:linear-gradient(180deg,#ffcf5a,#d9a62c);
  }
  .toggleOn{ outline:2px solid rgba(255,207,90,.55); }

  /* bottom win strip */
  .winStrip{
    width:100%;
    padding:10px 12px;
    border-radius:16px;
    background:rgba(0,0,0,.28);
    border:1px solid rgba(255,255,255,.10);
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
  }
  .winStrip .win{font-weight:1000; font-size:18px}
  .winStrip .info{opacity:.85}

  /* overlays */
  .overlay{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    padding:18px;
    background:rgba(0,0,0,.55);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index:9999;
  }
  .modal{
    width:min(520px,100%);
    padding:18px;
    border-radius:22px;
    background:rgba(10,20,30,.70);
    border:1px solid rgba(255,255,255,.12);
    text-align:center;
    box-shadow:0 20px 60px rgba(0,0,0,.5);
  }
  .modal h2{margin:0 0 8px; font-size:26px}
  .modal p{margin:0 0 14px; opacity:.9}
  .modal .big{
    font-size:44px;
    font-weight:1000;
    letter-spacing:1px;
    margin:6px 0 10px;
  }
</style>
</head>

<body>
<div class="app">

  <div class="header glass">
    <div class="title">FISHING SPLASH</div>
    <div class="sub">Big Bass–style · Free Spins · Collectors</div>
    <div class="stats">
      <div class="pill">Balance: <b>£<span id="bal">10000.00</span></b></div>
      <div class="pill">Bet: <b>£<span id="bet">1.00</span></b></div>
      <div class="pill">Last Win: <b>£<span id="last">0.00</span></b></div>
      <div class="pill" id="modePill">Mode: <b id="modeTxt">Base</b></div>
    </div>
  </div>

  <div class="reels glass">
    <div class="banner" id="banner">PLACE YOUR BETS!</div>

    <div class="grid" id="grid"></div>

    <div class="msg" id="msgBar">
      <div class="left" id="msg">Ready. Get 3+ Scatter for Free Spins.</div>
      <div class="right">For fun only</div>
    </div>
  </div>

  <div class="glass bottomBar">
    <div class="winStrip">
      <div class="win" id="barWin">£0.00</div>
      <div class="info" id="barInfo">IDLE</div>
    </div>

    <div class="btnRow">
      <button id="betDown">- BET</button>
      <button id="betUp">+ BET</button>
      <button id="maxBet">MAX</button>
      <button id="soundBtn" class="toggleOn">SOUND: ON</button>
      <button id="autoBtn">AUTO: OFF</button>
    </div>

    <button id="spinBtn" class="spin">SPIN</button>
  </div>
</div>

<!-- Bonus Intro -->
<div class="overlay" id="bonusOverlay">
  <div class="modal">
    <h2>FREE SPINS!</h2>
    <p>You triggered the bonus with 3+ Scatters.</p>
    <div class="big">10</div>
    <p>Cash Fish pay only when a Collector lands.</p>
    <button id="bonusStartBtn" class="spin">START</button>
  </div>
</div>

<!-- Big / Mega Win -->
<div class="overlay" id="winOverlay">
  <div class="modal">
    <h2 id="winTitle">BIG WIN!</h2>
    <div class="big">£<span id="winAmount">0.00</span></div>
    <button id="winCloseBtn">OK</button>
  </div>
</div>

<script>
/* ================= CONFIG ================= */
const COLS = 5, ROWS = 3;

/* reel timing */
const REEL_START_SPIN_MS = 420;   // how long until first reel stops
const REEL_GAP_MS        = 170;   // time between reel stops
const SYMBOL_CYCLE_MS    = 55;    // cycle speed while spinning

/* win thresholds (in x bet) */
const BIG_WIN_X  = 20;
const MEGA_WIN_X = 50;

/* symbol pools */
const BASE_POOL = ["A","K","Q","J","10","rod","boat","tackle","hook","wild","scatter"];
const FS_POOL   = ["A","K","Q","J","10","rod","boat","tackle","hook","wild","scatter","cashfish","cashfish","cashfish"];

/* cashfish values in BET units (lower) */
const CASHFISH_VALUES_IN_BET = [0.03,0.04,0.05,0.06,0.08,0.10,0.12,0.15,0.18];

/* base win (simple, not too generous):
   pay if 3+ of same symbol anywhere (excluding scatter/cashfish/collector).
   wild counts as matching for base (simple).
*/
const BASE_PAY_3 = { A:0.12, K:0.14, Q:0.16, J:0.18, "10":0.20, rod:0.35, boat:0.45, tackle:0.55, hook:0.60 };
const BASE_PAY_4 = { A:0.35, K:0.40, Q:0.45, J:0.50, "10":0.60, rod:1.2, boat:1.6, tackle:2.0, hook:2.4 };
const BASE_PAY_5 = { A:0.80, K:0.90, Q:1.0, J:1.2, "10":1.4, rod:3.0, boat:4.0, tackle:5.0, hook:6.0 };

/* collector frequency in free spins (low, harder) */
const COLLECTOR_CHANCE = 0.07;     // per spin chance to place one collector
const COLLECTOR_REEL   = 4;        // only on reel 5 (col index 4)

/* tease respin allowed once per base spin cycle */
const MAX_TEASE_RESPINS = 1;

/* ================= STATE ================= */
let balance = 10000;
let bet = 1.00;
let lastWin = 0;

let mode = "Base"; // Base | FreeSpins
let freeSpinsLeft = 0;
let bonusMultiplier = 1;
let bonusCollectorCount = 0;

let spinning = false;
let auto = false;
let teaseRespinsUsed = 0;

let soundOn = true;
let audioUnlocked = false;

const audio = {
  bg:    new Audio("assets/audio/bg.mp3"),
  spin:  new Audio("assets/audio/spin.mp3"),
  bonus: new Audio("assets/audio/bonus.mp3"),
};
audio.bg.loop = true;
audio.bonus.loop = true;
audio.bg.volume = 0.35;
audio.bonus.volume = 0.35;
audio.spin.volume = 0.55;

/* ================= DOM ================= */
const grid = document.getElementById("grid");
const balEl = document.getElementById("bal");
const betEl = document.getElementById("bet");
const lastEl = document.getElementById("last");
const msg = document.getElementById("msg");
const banner = document.getElementById("banner");
const barWin = document.getElementById("barWin");
const barInfo = document.getElementById("barInfo");
const modeTxt = document.getElementById("modeTxt");
const modePill = document.getElementById("modePill");

const spinBtn = document.getElementById("spinBtn");
const betDownBtn = document.getElementById("betDown");
const betUpBtn = document.getElementById("betUp");
const maxBetBtn = document.getElementById("maxBet");
const autoBtn = document.getElementById("autoBtn");
const soundBtn = document.getElementById("soundBtn");

const bonusOverlay = document.getElementById("bonusOverlay");
const bonusStartBtn = document.getElementById("bonusStartBtn");

const winOverlay = document.getElementById("winOverlay");
const winTitle = document.getElementById("winTitle");
const winAmountEl = document.getElementById("winAmount");
const winCloseBtn = document.getElementById("winCloseBtn");

/* ================= HELPERS ================= */
function fmtMoney(n){
  const x = Number(n || 0);
  return x.toFixed(2);
}
function randFrom(arr){
  return arr[Math.floor(Math.random()*arr.length)];
}
function safePlay(aud){
  if(!soundOn) return;
  try{
    aud.currentTime = 0;
    aud.play().catch(()=>{});
  }catch(e){}
}
function safeLoopStart(aud){
  if(!soundOn) return;
  try{
    aud.play().catch(()=>{});
  }catch(e){}
}
function stopAudio(aud){
  try{ aud.pause(); }catch(e){}
}

/* ================= GRID ================= */
function setCellSymbol(cell, sym){
  const img = cell.querySelector("img");
  img.src = `assets/symbols/${sym}.png?v=${Math.random()}`;
  img.alt = sym;
  cell.dataset.sym = sym;

  let badge = cell.querySelector(".valueBadge");
  badge.style.display = "none";
  cell.dataset.val = "";

  if(mode==="FreeSpins" && sym==="cashfish"){
    const mult = randFrom(CASHFISH_VALUES_IN_BET);
    const value = Math.max(0.10, mult * bet);
    cell.dataset.val = String(value);
    badge.textContent = "£" + fmtMoney(value);
    badge.style.display = "block";
  }
}

function createGrid(){
  grid.innerHTML = "";
  for(let i=0;i<COLS*ROWS;i++){
    const cell = document.createElement("div");
    cell.className = "cell";
    const img = document.createElement("img");
    img.draggable = false;
    cell.appendChild(img);
    const badge = document.createElement("div");
    badge.className = "valueBadge";
    cell.appendChild(badge);

    setCellSymbol(cell, randFrom(BASE_POOL));
    grid.appendChild(cell);
  }
}

function symAt(r,c){
  const cell = grid.children[r*COLS + c];
  return cell ? (cell.dataset.sym || "") : "";
}
function countSymbol(sym){
  let n = 0;
  for(const cell of grid.children){
    if(cell.dataset.sym === sym) n++;
  }
  return n;
}

/* ================= UI ================= */
function updateUI(){
  balEl.textContent = fmtMoney(balance);
  betEl.textContent = fmtMoney(bet);
  lastEl.textContent = fmtMoney(lastWin);
  modeTxt.textContent = (mode==="FreeSpins") ? "Free Spins" : "Base";

  if(mode==="FreeSpins"){
    modePill.style.borderColor = "rgba(255,207,90,.45)";
    banner.textContent = `FREE SPINS · x${bonusMultiplier} · LEFT ${freeSpinsLeft}`;
  }else{
    modePill.style.borderColor = "rgba(255,255,255,.10)";
    banner.textContent = "PLACE YOUR BETS!";
  }
}

let winRAF = null;
function animateWinTo(target){
  if(winRAF) cancelAnimationFrame(winRAF);

  const start = Number((barWin.textContent||"£0").replace("£","")) || 0;
  const t0 = performance.now();
  const DUR = 650;

  function frame(t){
    const p = Math.min(1,(t-t0)/DUR);
    const eased = 1 - Math.pow(1-p,3);
    const v = start + (target-start)*eased;
    barWin.textContent = "£" + fmtMoney(v);
    if(p<1) winRAF=requestAnimationFrame(frame);
  }
  winRAF=requestAnimationFrame(frame);
}

function maybeBigWinOverlay(amount){
  const x = amount / bet;
  if(x >= MEGA_WIN_X){
    winTitle.textContent = "MEGA WIN!";
    winAmountEl.textContent = fmtMoney(amount);
    winOverlay.style.display = "flex";
  }else if(x >= BIG_WIN_X){
    winTitle.textContent = "BIG WIN!";
    winAmountEl.textContent = fmtMoney(amount);
    winOverlay.style.display = "flex";
  }
}

/* ================= AUDIO ================= */
function unlockAudioOnce(){
  if(audioUnlocked) return;
  audioUnlocked = true;
  if(soundOn){
    safeLoopStart(audio.bg);
  }
}

/* ================= TEASE RULE =================
   2 scatters AND both are:
   - reels 1–4 (col 0..3)
   - rows 1–2 (row 0..1)
*/
function teaseConditionMet(){
  const scat=[];
  for(let r=0;r<ROWS;r++){
    for(let c=0;c<COLS;c++){
      if(symAt(r,c)==="scatter") scat.push({r,c});
    }
  }
  if(scat.length!==2) return false;
  return scat.every(p => p.c<=3 && p.r<=1);
}

/* ================= BONUS ================= */
function enterBonus(){
  mode = "FreeSpins";
  freeSpinsLeft = 10;
  bonusMultiplier = 1;
  bonusCollectorCount = 0;

  // music swap
  stopAudio(audio.bg);
  safeLoopStart(audio.bonus);

  msg.textContent = "Bonus started!";
  barInfo.textContent = "FREE SPINS";
  barWin.textContent = "£0.00";
  updateUI();
}

function exitBonus(){
  mode = "Base";
  freeSpinsLeft = 0;
  bonusMultiplier = 1;
  bonusCollectorCount = 0;

  stopAudio(audio.bonus);
  safeLoopStart(audio.bg);

  msg.textContent = "Back to Base.";
  barInfo.textContent = "IDLE";
  barWin.textContent = "£0.00";
  updateUI();
}

/* ================= FREE SPINS COLLECT ================= */
function applyCollectorProgress(){
  const collectorsThisSpin = countSymbol("collector");
  if(collectorsThisSpin <= 0) return;

  bonusCollectorCount += collectorsThisSpin;

  if(bonusCollectorCount >= 8){
    bonusMultiplier = 3;
  }else if(bonusCollectorCount >= 4){
    bonusMultiplier = 2;
  }
}

function collectCashfishIfCollectorPresent(){
  const collectors = countSymbol("collector");
  if(collectors <= 0) return 0;

  let sum = 0;
  for(const cell of grid.children){
    if(cell.dataset.sym==="cashfish"){
      sum += Number(cell.dataset.val||0);
    }
  }
  if(sum <= 0) return 0;
  return +(sum * bonusMultiplier).toFixed(2);
}

/* ================= BASE WINS (SIMPLE) ================= */
function baseWin(){
  // count all symbols excluding scatter/cashfish/collector
  const counts = {};
  let wilds = 0;

  for(const cell of grid.children){
    const s = cell.dataset.sym;
    if(s==="wild") wilds++;
    if(s==="scatter" || s==="cashfish" || s==="collector") continue;
    counts[s] = (counts[s]||0) + 1;
  }

  let best = 0;
  for(const sym of Object.keys(counts)){
    const total = counts[sym] + wilds; // wild helps everything (simple)
    let betUnits = 0;
    if(total >= 5) betUnits = BASE_PAY_5[sym] || 0;
    else if(total === 4) betUnits = BASE_PAY_4[sym] || 0;
    else if(total === 3) betUnits = BASE_PAY_3[sym] || 0;
    best = Math.max(best, betUnits * bet);
  }
  return +best.toFixed(2);
}

/* ================= REELS SPIN ENGINE ================= */
let reelIntervals = new Array(COLS).fill(null);
let spinCtx = null;

function startReelCycle(col){
  stopReelCycle(col);
  reelIntervals[col] = setInterval(()=>{
    for(let row=0; row<ROWS; row++){
      const idx = row*COLS + col;
      const cell = grid.children[idx];
      cell.classList.add("spinning");
      setCellSymbol(cell, randFrom(mode==="FreeSpins" ? FS_POOL : BASE_POOL));
    }
  }, SYMBOL_CYCLE_MS);
}

function stopReelCycle(col){
  if(reelIntervals[col]){
    clearInterval(reelIntervals[col]);
    reelIntervals[col] = null;
  }
}

function pickFinalSymbol(row, col){
  if(mode==="FreeSpins"){
    // only place one collector, only on reel 5, chance once per spin
    if(!spinCtx.hasCollector && col===COLLECTOR_REEL && Math.random() < COLLECTOR_CHANCE){
      spinCtx.hasCollector = true;
      return "collector";
    }
    return randFrom(FS_POOL);
  }

  return randFrom(BASE_POOL);
}

function stopReel(col){
  stopReelCycle(col);

  for(let row=0; row<ROWS; row++){
    const idx = row*COLS + col;
    const cell = grid.children[idx];

    const sym = pickFinalSymbol(row, col);
    setCellSymbol(cell, sym);

    cell.classList.remove("spinning");
    cell.classList.add("stop");
    setTimeout(()=>cell.classList.remove("stop"), 180);
  }
}

function setDisabled(v){
  spinBtn.disabled = v;
  betDownBtn.disabled = v || mode==="FreeSpins";
  betUpBtn.disabled = v || mode==="FreeSpins";
  maxBetBtn.disabled = v || mode==="FreeSpins";
  autoBtn.disabled = v;
}

/* ================= SPIN + RESOLVE ================= */
function resolveSpin(){
  stopAudio(audio.spin);

  const scatters = countSymbol("scatter");

  // FREE SPINS
  if(mode==="FreeSpins"){
    applyCollectorProgress();
    const win = collectCashfishIfCollectorPresent();
    lastWin = win;

    if(win > 0){
      balance = +(balance + win).toFixed(2);
      msg.textContent = `COLLECT £${fmtMoney(win)} (x${bonusMultiplier})`;
      animateWinTo(win);
      maybeBigWinOverlay(win);
      barInfo.textContent = `COLLECT · x${bonusMultiplier}`;
    }else{
      msg.textContent = "No collect.";
      barWin.textContent = "£0.00";
      barInfo.textContent = `FREE SPINS · x${bonusMultiplier}`;
    }

    freeSpinsLeft = Math.max(0, freeSpinsLeft - 1);
    updateUI();

    spinning = false;
    setDisabled(false);

    if(auto || freeSpinsLeft > 0){
      if(freeSpinsLeft > 0){
        setTimeout(()=>spin(), 520);
      }else{
        setTimeout(()=>exitBonus(), 650);
      }
    }
    return;
  }

  // BASE: tease respin
  if(scatters===2 && teaseConditionMet() && teaseRespinsUsed < MAX_TEASE_RESPINS){
    teaseRespinsUsed++;
    msg.textContent = "Scatter tease… RESPIN!";
    barInfo.textContent = "RESPIN";
    spinning = false;
    setDisabled(false);
    setTimeout(()=>spin(), 350);
    return;
  }

  // BASE: bonus trigger
  if(scatters >= 3){
    msg.textContent = `BONUS TRIGGER! (${scatters} Scatters)`;
    barInfo.textContent = "BONUS TRIGGERED";
    lastWin = 0;
    updateUI();

    spinning = false;
    setDisabled(false);

    bonusOverlay.style.display = "flex";
    return;
  }

  // BASE: normal win
  const win = baseWin();
  lastWin = win;

  if(win > 0){
    balance = +(balance + win).toFixed(2);
    msg.textContent = `WIN £${fmtMoney(win)}`;
    barInfo.textContent = "WIN";
    animateWinTo(win);
    maybeBigWinOverlay(win);
  }else{
    msg.textContent = "No win.";
    barInfo.textContent = "NO WIN";
    barWin.textContent = "£0.00";
  }

  teaseRespinsUsed = 0;
  updateUI();

  spinning = false;
  setDisabled(false);

  if(auto) setTimeout(()=>spin(), 520);
}

function spin(){
  unlockAudioOnce();
  if(spinning) return;

  if(mode==="Base"){
    if(balance < bet){
      msg.textContent = "Not enough balance.";
      return;
    }
    balance = +(balance - bet).toFixed(2);
    lastWin = 0;
    updateUI();
  }

  spinning = true;
  setDisabled(true);
  barInfo.textContent = "SPINNING";
  barWin.textContent = "£0.00";

  spinCtx = { hasCollector:false };

  safePlay(audio.spin);

  // start cycling all reels
  for(let c=0;c<COLS;c++) startReelCycle(c);

  // stop sequentially
  for(let c=0;c<COLS;c++){
    setTimeout(()=>{
      stopReel(c);
      if(c===COLS-1){
        setTimeout(resolveSpin, 120);
      }
    }, REEL_START_SPIN_MS + c*REEL_GAP_MS);
  }
}

/* ================= BUTTONS ================= */
spinBtn.addEventListener("click", spin);

betDownBtn.addEventListener("click", ()=>{
  if(spinning || mode==="FreeSpins") return;
  bet = Math.max(0.20, +(bet - 0.20).toFixed(2));
  updateUI();
});
betUpBtn.addEventListener("click", ()=>{
  if(spinning || mode==="FreeSpins") return;
  bet = Math.min(20.00, +(bet + 0.20).toFixed(2));
  updateUI();
});
maxBetBtn.addEventListener("click", ()=>{
  if(spinning || mode==="FreeSpins") return;
  bet = 20.00;
  updateUI();
});

autoBtn.addEventListener("click", ()=>{
  auto = !auto;
  autoBtn.textContent = auto ? "AUTO: ON" : "AUTO: OFF";
  if(auto) autoBtn.classList.add("toggleOn");
  else autoBtn.classList.remove("toggleOn");
  if(auto && !spinning) spin();
});

soundBtn.addEventListener("click", ()=>{
  soundOn = !soundOn;
  soundBtn.textContent = soundOn ? "SOUND: ON" : "SOUND: OFF";
  if(soundOn) soundBtn.classList.add("toggleOn");
  else soundBtn.classList.remove("toggleOn");

  if(!soundOn){
    stopAudio(audio.bg); stopAudio(audio.bonus); stopAudio(audio.spin);
  }else{
    if(audioUnlocked){
      if(mode==="FreeSpins") safeLoopStart(audio.bonus);
      else safeLoopStart(audio.bg);
    }
  }
});

bonusStartBtn.addEventListener("click", ()=>{
  bonusOverlay.style.display = "none";
  enterBonus();
  setTimeout(()=>spin(), 350);
});

winCloseBtn.addEventListener("click", ()=> winOverlay.style.display="none");

/* ================= INIT ================= */
createGrid();
updateUI();
</script>
</body>
</html>
